(this.webpackJsonpgenelab=this.webpackJsonpgenelab||[]).push([[0],{234:function(e,t,a){e.exports=a(632)},254:function(e,t,a){},629:function(e,t,a){},632:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),s=a.n(l),i=a(9),o=a(10),c=a(34),m=a(12),d=a(11),u=a(6),h=a(15),p=a.n(h),g=(a(254),{url:{API_URL:"https://covid-co-op.herokuapp.com",FRONT_END_URL:"https://joshjm.github.io/Covid-Co-op"}}),E=(g.url.FRONT_END_URL,g.url.API_URL,function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark static-top mb-5 shadow"},r.a.createElement(u.b,{to:"/",className:"navbar-brand"},"GeneLab"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},this.props.loggedInStatus?r.a.createElement("ul",{className:"navbar-nav ml-auto "},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link",onClick:this.props.handleLogout},"Click to log out ",this.props.userID.name)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/my-strains",className:"nav-link"},"My Strains")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/buy-strains",className:"nav-link"},"Buy Strains")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/profile",className:"nav-link"},"My Profile"))):r.a.createElement("ul",{className:"navbar-nav ml-auto "},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/sign-up",className:"nav-link"},"Sign up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/sign-in",className:"nav-link"},"Sign in")))))}}]),a}(n.Component)),f=(g.url.FRONT_END_URL,g.url.API_URL,function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isLoggedIn:!1,user:{}},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"GeneLab Home"),r.a.createElement("h5",null,"Phylogeny Visualiser"),r.a.createElement("p",null,"GeneLab is the quintessential repository for all Genetic Lab strains. Finally, there is a nice way to track strain information, phylogeny and lab data!",this.props.loggedInStatus?"":r.a.createElement("span",null," Create an account and organise your lab strains today!")),r.a.createElement("img",{src:"https://www.sciencemag.org/sites/default/files/styles/article_main_large/public/images/sn-treeoflife.jpg?itok=AXS5irW-",alt:"phylogenetic map",width:"500"}))}}]),a}(n.Component)),b=a(18),v=(a(75),g.url.FRONT_END_URL,g.url.API_URL),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(b.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password,password_confirmation:n.state.password_confirmation};p.a.post(v+"/users",t,{withCredentials:!0}).then((function(e){"created"===e.data.status?(n.props.handleLogin(e.data),n.redirect()):n.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},n.redirect=function(){n.props.history.push("/")},n.handleErrors=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,n.state.errors.map((function(e){return r.a.createElement("li",{key:e},e)}))))},n.state={email:"",password:"",password_confirmation:"",errors:""},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state;e.email,e.password,e.password_confirmation,e.address;return r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card bg-dark text-white"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"center"},"Sign Up"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{className:"form-control",name:"email",type:"email",id:"email",placeholder:"Email",onChange:this.handleChange,value:this.state.email,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",id:"password",placeholder:"Password",onChange:this.handleChange,value:this.state.password,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null," Confirm Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password_confirmation",id:"password-confirmation",placeholder:"Password",onChange:this.handleChange,value:this.state.password_confirmation,required:!0})),r.a.createElement("button",{type:"submit",id:"submit-btn",className:"btn btn-primary"},"Submit")),r.a.createElement("div",null,this.state.errors?this.handleErrors():null)))))}}]),a}(n.Component),w=a(74),k=a.n(w),N=a(8),_=(g.url.FRONT_END_URL,g.url.API_URL),S=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(b.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a={email:t.email,password:t.password};p.a.post(_+"/login",{user:a},{withCredentials:!0}).then((function(e){e.data.logged_in?(n.props.handleLogin(e.data),n.props.history.push("/"),k.a.set("user","loginTrue",{expires:1}),n.props.readCookie()):n.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},n.handleErrors=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,n.state.errors.map((function(e){return r.a.createElement("li",{key:e},e)}))))},n.state={email:"alex@hotmail.com",password:"chicken",errors:""},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state;e.email,e.password;return r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card bg-dark text-white"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"center"},"Sign In"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{className:"form-control",name:"email",type:"email",id:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{className:"form-control",name:"password",type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",id:"submit-btn",className:"btn btn-primary"},"Sign In")),r.a.createElement("div",null,this.state.errors?this.handleErrors():null)))))}}]),a}(n.Component),C=Object(N.g)(S),j=(g.url.FRONT_END_URL,g.url.API_URL),O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(b.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password,l=t.password_confirmation,s=(t.location,{email:a,password:r,password_confirmation:l});p.a.patch("".concat(j,"/users/").concat(n.props.user.id,".json"),s,{withCredentials:!0}).then((function(e){console.log(e),n.setState({isChange:!0}),n.props.handleUserEdit(e.data),n.props.handleLogin(e.data)})).catch((function(e){return console.log("api errors:",e)}))},n.redirect=function(){n.props.history.push("/")},n.handleErrors=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,n.state.errors.map((function(e){return r.a.createElement("li",{key:e},e)}))))},n.state={email:"",password:"",password_confirmation:"",errors:"",isChange:!1,SERVER_URL:j},n.redirect=n.redirect.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:this.props.user.email,location:this.props.user.location})}},{key:"render",value:function(){var e=this.state;e.email,e.password,e.password_confirmation;return this.state.isChange?r.a.createElement(N.a,{to:"/"}):r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card bg-dark text-white"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"center"},"Update User Details"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{className:"form-control",name:"email",type:"email",id:"email",placeholder:"Email",onChange:this.handleChange,value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Update Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",id:"password",placeholder:"Password",onChange:this.handleChange,value:this.state.password})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password_confirmation"},"Confirm Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password_confirmation",id:"password_confirmation",placeholder:"Confirm Password",onChange:this.handleChange,value:this.state.password_confirmation})),r.a.createElement("button",{type:"submit",id:"submit-btn",className:"btn btn-primary"},"Submit")),r.a.createElement("div",null,this.state.errors?this.handleErrors():null)))))}}]),a}(n.Component),L=a(93),R=a.n(L),I=a(133),x=a(94),U=a(126),A=(g.url.FRONT_END_URL,g.url.API_URL,function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={user_id:"",strains:n.props.strains,user_strains:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){if(this.props.loggedInStatus){this.setState({user_id:this.props.user.id});var e=[];e.push(R.a.filter(this.props.strains,{user_id:this.props.user.id})),this.setState({user_strains:e[0]})}else this.props.history.push("/sign-in")}},{key:"showStrains",value:function(e){var t=this;return e?e.map((function(e){return r.a.createElement("div",{key:e.id,className:"col-3 item"},r.a.createElement(I.a,{className:"p-3"},r.a.createElement(I.a.Img,{className:"mh-2",variant:"top",src:e.image,alt:e.name}),r.a.createElement(I.a.Body,null,r.a.createElement(I.a.Title,{key:e.id},e.name),r.a.createElement(I.a.Text,null,r.a.createElement("p",null,e.traits),r.a.createElement("p",null,"Strain Added: ",Math.floor(Math.abs(new Date-new Date(e.created_at))/1e3/60/60/24)," days ago"),t.props.isLoggedIn?r.a.createElement(u.b,{to:"/view-strain/".concat(e.id),className:"btn btn-secondary btn-sm"},"View Strain"):""))))})):r.a.createElement("h2",null,"Add a Strain")}},{key:"render",value:function(){return r.a.createElement("div",{className:"myStrains"},this.props.loggedInStatus?r.a.createElement("div",{className:"addStrains"},r.a.createElement("h1",null,"My Strains"),r.a.createElement("div",{className:"row"},this.showStrains(this.state.strains)),r.a.createElement(x.a,null,r.a.createElement(U.a,null)),r.a.createElement(u.b,{to:"/add-strain",className:"btn btn-success btn-lg"},"+ Add Strain"),"OR",r.a.createElement(u.b,{to:"/qr-code",className:"btn btn-success btn-lg"},"Scan QR Code ",r.a.createElement("img",{className:"img-thumbnail img-fluid",width:"50",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/QR_code_for_mobile_English_Wikipedia.svg/1200px-QR_code_for_mobile_English_Wikipedia.svg.png",alt:"example QR code"}))):r.a.createElement("h1",null,"Please Sign in to see your strains"))}}]),a}(n.Component)),P=(g.url.FRONT_END_URL,g.url.API_URL),T=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(b.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a={name:t.name,mating_type:t.mating_type,morphology:t.morphology,gm:t.gm,is_child:t.is_child,acid_tolerance:t.acid_tolerance,ferment_rate:t.ferment_rate,traits:t.traits,image:t.image};p.a.post("".concat(P,"/strains"),a).then((function(e){console.log(e),n.setState({isChange:!0}),n.props.handleUserEdit(e.data),n.props.handleLogin(e.data)})).catch((function(e){return console.log("api errors:",e)}))},n.redirect=function(){n.props.history.push("/")},n.handleErrors=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,n.state.errors.map((function(e){return r.a.createElement("li",{key:e},e)}))))},n.state={name:"",mating_type:"",morphology:"",gm:"",is_child:"",acid_tolerance:"",ferment_rate:"",traits:"",image:"",errors:"",isChange:!1,SERVER_URL:P},n.redirect=n.redirect.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({email:this.props.user.email})}},{key:"render",value:function(){return this.props.isLoggedIn?r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card bg-dark text-white"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"center"},"Add a new Strain"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"strainname"},"Strain Name"),r.a.createElement("input",{className:"form-control",name:"name",type:"strainname",id:"strainname",placeholder:"S. Cerevisiae",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"mating_type"},"Mating Type"),r.a.createElement("input",{className:"form-control",type:"mating_type",name:"mating_type",id:"mating_type",placeholder:"alpha",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"morphology"},"Morphology"),r.a.createElement("input",{className:"form-control",type:"morphology",name:"morphology",id:"morphology",placeholder:"rod shaped",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"gm"},"Genetically Modified?"),r.a.createElement("input",{className:"form-control",type:"checkbox",name:"gm",id:"gm",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"is_child"},"Child Strain?"),r.a.createElement("input",{className:"form-control",type:"checkbox",name:"is_child",id:"is_child",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"acid_tolerance"},"Acid Tolerance"),r.a.createElement("input",{className:"form-control",type:"acid_tolerance",name:"acid_tolerance",id:"acid_tolerance",placeholder:"4.0",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"ferment_rate"},"Fermentation Rate (hours)"),r.a.createElement("input",{className:"form-control",type:"ferment_rate",name:"ferment_rate",id:"ferment_rate",placeholder:"0.2",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"traits"},"Unique Strain Traits"),r.a.createElement("input",{className:"form-control",type:"traits",name:"traits",id:"traits",placeholder:"cellulolytic, high acid tolerance",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"image"},"Add an Image"),r.a.createElement("input",{className:"form-control",type:"text",name:"image",id:"image",placeholder:"http://fillmurray.com/400/400",onChange:this.handleChange})),r.a.createElement("button",{type:"submit",id:"submit-btn",className:"btn btn-primary"},"Create")),r.a.createElement("div",null,this.state.errors?this.handleErrors():null))))):r.a.createElement(N.a,{to:"/"})}}]),a}(n.Component),D=a(134),M=a(132),F=a(131);a(627),g.url.API_URL;function B(e){var t=e.getSelection().getStartKey();return e.getCurrentContent().getBlockForKey(t)}function q(){var e=Object(n.useState)(F.EditorState.createEmpty()),t=Object(D.a)(e,2),a=t[0],l=t[1];return r.a.createElement(F.Editor,{editorState:a,onChange:function(e){!function(e){B(e).getText()[e.getSelection().getStartOffset()-1]}(e);B(e).getText().length>9?l(a):l(e)}})}var G=function(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),l=a[0],s=a[1],i=e.match.params.strainId;Object(n.useEffect)((function(){p.a.get("http://localhost:3000/strains/".concat(i)).then((function(e){console.log(e),s(e.data)})).catch((function(e){console.log(e)}))}),[]),console.log(l);var o=l.id,c=l.name,m=l.mating_type,d=l.morphology,u=l.gm,h=l.is_child,g=l.acid_tolerance,E=l.ferment_rate,f=l.traits,b=l.image;return r.a.createElement("div",{key:o},r.a.createElement(x.a,null,r.a.createElement("img",{className:"w-25 img-thumbnail",src:b,alt:o})),r.a.createElement("svg",{width:"800",height:"400",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",null,r.a.createElement("line",{stroke:"#000","stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_1",y2:"149.45313",x2:"388",y1:"54.45313",x1:"388","stroke-width":"1.5",fill:"none"}),r.a.createElement("line",{"stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_2",y2:"149.45313",x2:"597",y1:"148.45313",x1:"181","stroke-width":"1.5",stroke:"#000",fill:"none"}),r.a.createElement("line",{stroke:"#000","stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_3",y2:"149.45313",x2:"597",y1:"268.45313",x1:"597","stroke-width":"1.5",fill:"none"}),r.a.createElement("line",{"stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_4",y2:"148.45313",x2:"182",y1:"263.45313",x1:"182","stroke-width":"1.5",stroke:"#000",fill:"none"}),r.a.createElement("line",{stroke:"#000","stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_5",y2:"264.45313",x2:"281",y1:"263.45313",x1:"83","fill-opacity":"null","stroke-opacity":"null","stroke-width":"1.5",fill:"none"}),r.a.createElement("line",{stroke:"#000","stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_6",y2:"269.45313",x2:"699",y1:"269.45313",x1:"499","fill-opacity":"null","stroke-opacity":"null","stroke-width":"1.5",fill:"none"}),r.a.createElement("line",{"stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_7",y2:"346.45313",x2:"83",y1:"264.45313",x1:"83","fill-opacity":"null","stroke-opacity":"null","stroke-width":"1.5",stroke:"#000",fill:"none"}),r.a.createElement("line",{"stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_8",y2:"345.45313",x2:"281",y1:"264.45313",x1:"281","fill-opacity":"null","stroke-opacity":"null","stroke-width":"1.5",stroke:"#000",fill:"none"}),r.a.createElement("line",{stroke:"#000","stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_9",y2:"351.45313",x2:"499",y1:"270.45313",x1:"499","fill-opacity":"null","stroke-opacity":"null","stroke-width":"1.5",fill:"none"}),r.a.createElement("line",{stroke:"#000","stroke-linecap":"undefined","stroke-linejoin":"undefined",id:"svg_10",y2:"354.45313",x2:"698",y1:"269.45312",x1:"698","fill-opacity":"null","stroke-opacity":"null","stroke-width":"1.5",fill:"none"}))),r.a.createElement("div",{className:"col py-3 px-md-5 bordered"},r.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Mating Type"),r.a.createElement("th",null,"Morphology"),r.a.createElement("th",null,"Genetically Modified?"),r.a.createElement("th",null,"Child Strain?"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,c),r.a.createElement("td",null,m),r.a.createElement("td",null,d),r.a.createElement("td",null,u?"yes":"no"),r.a.createElement("td",null,h?"yes":"no")))),r.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Acid Tolerance"),r.a.createElement("th",null,"Fermentation Rate"),r.a.createElement("th",null,"Traits"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,g),r.a.createElement("td",null,E),r.a.createElement("td",null,f)))),r.a.createElement(I.a,null,r.a.createElement(I.a.Body,null,r.a.createElement("h5",{className:"text-left"},"Lab Notes..."),r.a.createElement(q,null))),r.a.createElement("img",{className:"w-100 img-thumbnail",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Bacterial_growth_en.svg/1200px-Bacterial_growth_en.svg.png",alt:"bacterial growth rate"})))},W=(g.url.FRONT_END_URL,g.url.API_URL,function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-xl"},r.a.createElement("div",{className:"row"},r.a.createElement("iframe",{src:"https://www.thermofisher.com/search/browse/category/us/en/80801/Primary+Cells",title:"buy strains",style:{class:"iframe",name:"info",seamless:"",height:"100vh",width:"100vw",allow:"fullscreen"}})))}}]),a}(n.Component)),Q=a(233),V=a(232),z=a.n(V),H=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={delay:50,result:"No result",legacyMode:"active"},n.handleScan=n.handleScan.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"handleScan",value:function(e){this.setState({result:e})}},{key:"handleError",value:function(e){console.error(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Q.a,{delay:this.state.delay,style:{height:240,width:320},onError:this.handleError,onScan:this.handleScan}),r.a.createElement("p",null,this.state.result),r.a.createElement(z.a,{audio:!1,height:720,screenshotFormat:"image/jpeg",width:1280,videoConstraints:{width:1280,height:720,facingMode:"user"}}))}}]),a}(n.Component),J=(a(629),g.url.FRONT_END_URL,g.url.API_URL),K=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loginStatus=function(){p.a.get("".concat(J,"/logged_in"),{withCredentials:!0}).then((function(e){e.data.logged_in?(n.handleLogin(e),n.readCookie()):n.handleLogout()})).catch((function(e){return console.log("api errors:",e)}))},n.handleLogin=function(e){n.setState({isLoggedIn:!0,user:e.user})},n.handleLogout=function(){p.a.delete("".concat(J,"/logout")).then(n.setState({isLoggedIn:!1,setAuth:!1,user:{}}),k.a.remove("user"))},n.handleUserEdit=function(e){n.setState({user:e})},n.readCookie=function(){k.a.get("user")&&n.setState({setAuth:!0})},n.state={STRAIN_URL:"".concat(J,"/strains"),USER_URL:"".concat(J,"/users"),isLoggedIn:!1,setAuth:!1,user:{},users:[],strains:[]},n.fetchStrains=n.fetchStrains.bind(Object(c.a)(n)),n.fetchUsers=n.fetchUsers.bind(Object(c.a)(n)),n.readCookie=n.readCookie.bind(Object(c.a)(n)),n.fetchStrains(),n.fetchUsers(),n.readCookie(),n}return Object(o.a)(a,[{key:"viewStrain",value:function(e){this.setState({strainSelect:e})}},{key:"fetchStrains",value:function(){var e=this;p.a.get(this.state.STRAIN_URL).then((function(t){t.data?e.setState({strains:t.data}):e.setState({errors:t.data.errors})}))}},{key:"fetchUsers",value:function(){var e=this;p.a.get(this.state.USER_URL).then((function(t){t.data?e.setState({users:t.data.users}):e.setState({errors:t.data.errors})}))}},{key:"componentDidMount",value:function(){this.loginStatus(),this.readCookie()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(E,{handleLogout:this.handleLogout,userID:this.state.user,loggedInStatus:this.state.isLoggedIn}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"body"},r.a.createElement(N.d,null,"z",r.a.createElement(N.b,{exact:!0,path:"/sign-up",render:function(t){return r.a.createElement(y,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(N.b,{exact:!0,path:"/sign-in",render:function(t){return r.a.createElement(C,Object.assign({},t,{handleLogin:e.handleLogin,readCookie:e.readCookie,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(N.b,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(O,Object.assign({},t,{user:e.state.user,readCookie:e.readCookie,loggedInStatus:e.state.isLoggedIn,handleUserEdit:e.handleUserEdit}))}}),r.a.createElement(N.b,{exact:!0,path:"/my-strains",render:function(t){return r.a.createElement(A,Object.assign({},t,e.state,{user:e.state.user,readCookie:e.readCookie,loggedInStatus:e.state.isLoggedIn,viewStrain:e.viewStrain}))}}),r.a.createElement(N.b,{exact:!0,path:"/buy-strains",render:function(t){return r.a.createElement(W,Object.assign({},t,e.state,{user:e.state.user,readCookie:e.readCookie,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(N.b,{exact:!0,path:"/qr-code",render:function(t){return r.a.createElement(H,Object.assign({},t,e.state,{user:e.state.user,readCookie:e.readCookie,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(N.b,{exact:!0,path:"/add-strain",render:function(t){return r.a.createElement(T,Object.assign({},t,e.state,{user:e.state.user,readCookie:e.readCookie,loggedInStatus:e.state.isLoggedIn,viewStrain:e.viewStrain}))}}),r.a.createElement(N.b,{path:"/view-strain/:strainId",render:function(t){return r.a.createElement(G,Object.assign({},t,e.state,{user:e.state.user,readCookie:e.readCookie,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(N.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(f,Object.assign({handleLogout:e.handleLogout},e.state,{loggedInStatus:e.state.isLoggedIn}))}}))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(630);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[234,1,2]]]);
//# sourceMappingURL=main.609947ed.chunk.js.map